import { number } from 'framer-motion';
import { useEffect } from 'react';
import { NavLink } from 'react-router';
export default function TopNav({ name }) {
  useEffect(() => {
    document.title = `Hot Drink - ${name}`;
  }, []);

function items() {
  let cartItems = 0;

  for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);

    if (key.startsWith('cart')) {
      cartItems += Number(localStorage.getItem(key)); // <- fix here
    }
  }
return cartItems
}


  items()
  return (
    <header className="top-nav">
      <NavLink to="/" className="top-nav__left">
        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M4.62471 6.15234C3.42208 6.21196 2.28111 6.71634 1.42554 7.57188C0.513014 8.48441 0 9.72169 0 11.0122C0 12.3027 0.513014 13.54 1.42554 14.4525C2.28111 15.3081 3.42208 15.8124 4.62471 15.872L4.86585 15.878H5.12195V16.1341C5.12195 17.4247 5.63497 18.6619 6.54749 19.5745C7.46002 20.487 8.69728 21 9.98781 21H16.1341C17.4247 21 18.6619 20.487 19.5745 19.5745C20.487 18.6619 21 17.4247 21 16.1341V7.93902C21 7.46357 20.811 7.00773 20.4748 6.67155C20.1386 6.33535 19.6828 6.14634 19.2073 6.14634H4.86585L4.62471 6.15234ZM19.2073 7.68293C19.2752 7.68293 19.3404 7.70993 19.3884 7.75795C19.4364 7.80599 19.4634 7.87111 19.4634 7.93902V16.1341C19.4634 17.0172 19.1124 17.8637 18.488 18.4881C17.8637 19.1124 17.0171 19.4634 16.1341 19.4634H9.98781C9.10478 19.4634 8.25822 19.1124 7.63386 18.4881C7.00959 17.8637 6.65854 17.0172 6.65854 16.1341V7.93902C6.65854 7.8711 6.68558 7.80599 6.73352 7.75795C6.76958 7.72189 6.81537 7.69775 6.86464 7.68793L6.91463 7.68293H19.2073ZM5.14295 7.68293C5.13076 7.76738 5.12195 7.85269 5.12195 7.93902V14.3415H4.86585L4.70082 14.3375C3.87793 14.2967 3.09735 13.9515 2.51191 13.3661C1.88765 12.7418 1.53659 11.8952 1.53659 11.0122C1.53659 10.1292 1.88765 9.28266 2.51191 8.6583C3.09735 8.07295 3.87793 7.72774 4.70082 7.68693L4.86585 7.68293H5.14295ZM17.1585 0C16.7342 0 16.3902 0.343976 16.3902 0.768293V2.81707C16.3902 3.24139 16.7342 3.58537 17.1585 3.58537C17.5828 3.58537 17.9268 3.24139 17.9268 2.81707V0.768293C17.9268 0.343976 17.5828 0 17.1585 0ZM13.061 0C12.6367 0 12.2927 0.343976 12.2927 0.768293V2.81707C12.2927 3.24139 12.6367 3.58537 13.061 3.58537C13.4853 3.58537 13.8293 3.24139 13.8293 2.81707V0.768293C13.8293 0.343976 13.4853 0 13.061 0ZM8.96342 0C8.53911 0 8.19512 0.343976 8.19512 0.768293V2.81707C8.19512 3.24139 8.53911 3.58537 8.96342 3.58537C9.38772 3.58537 9.73171 3.24139 9.73171 2.81707V0.768293C9.73171 0.343976 9.38772 0 8.96342 0Z"
            fill="white"
          />
        </svg>
        <p>Hot Drink</p>
      </NavLink>
      <nav className="top-nav__center">
        <NavLink className="top-nav__center-link " to="/">
          Home
        </NavLink>
        <NavLink className="top-nav__center-link " to="/contact">
          Contact
        </NavLink>
        <NavLink className="top-nav__center-link " to="/cart">
          Cart
        </NavLink>
      </nav>
      <NavLink to="/cart" className="top-nav__right">
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M7 18.25C7.9665 18.25 8.75 19.0335 8.75 20C8.75 20.9665 7.9665 21.75 7 21.75C6.0335 21.75 5.25 20.9665 5.25 20C5.25 19.0335 6.0335 18.25 7 18.25ZM18 18.25C18.9665 18.25 19.75 19.0335 19.75 20C19.75 20.9665 18.9665 21.75 18 21.75C17.0335 21.75 16.25 20.9665 16.25 20C16.25 19.0335 17.0335 18.25 18 18.25ZM3.17969 0.311523C3.47604 0.363505 3.71827 0.590132 3.7832 0.892578L4.72754 5.2998H21.0898C21.3171 5.29982 21.5325 5.40293 21.6748 5.58008C21.817 5.75733 21.8713 5.99006 21.8223 6.21191L20.1719 13.6426L20.1709 13.6416C20.0362 14.2525 19.6982 14.7991 19.2109 15.1914C18.7235 15.5839 18.117 15.7988 17.4912 15.7998H7.70996C7.07635 15.8101 6.45848 15.601 5.96094 15.208C5.52189 14.8611 5.20045 14.3897 5.03711 13.8584L4.97656 13.627L3.38867 6.21387C3.3863 6.20325 3.38375 6.19242 3.38184 6.18164L2.44336 1.7998H1.0498C0.635675 1.79971 0.299805 1.46396 0.299805 1.0498C0.29991 0.635742 0.63574 0.299904 1.0498 0.299805H3.0498L3.17969 0.311523ZM6.44336 13.3125L6.4707 13.418C6.54497 13.6593 6.69121 13.8736 6.89062 14.0312C7.1187 14.2114 7.40281 14.3062 7.69336 14.2998H17.4883C17.7728 14.2993 18.0489 14.2018 18.2705 14.0234C18.4921 13.845 18.6459 13.5962 18.707 13.3184L18.708 13.3174L20.1553 6.7998H5.04883L6.44336 13.3125Z"
            fill="white"
          />
        </svg>
        <p>{items()}</p>
      </NavLink>
    </header>
  );
}
